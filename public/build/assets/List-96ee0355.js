import{d as P}from"./default-61698ed5.js";import{S as h}from"./sweetalert2.all-82b1f328.js";import{_ as x,r as l,e as I,w as s,o as k,a as e,b as _,d as y}from"./app-b785c0d4.js";const g=new P("skill"),w={data(){return{roles:[],role_id:0,breadcrumbs:[{title:"Dashboard",to:{name:"auth.panel"},disabled:!1,exact:!0},{title:"Users",exact:!0,disabled:!0,to:{name:"auth.skills.listing"}}],serverItems:[],totalItems:0,loading:!1,itemsPerPage:10,search:"",headers:[{title:"",align:"start",sortable:!0,key:"id"},{title:"Name",align:"start",sortable:!0,key:"name"},{title:"Slug",align:"start",sortable:!0,key:"slug"},{title:"Actions",sortable:!1,key:"actions"}]}},methods:{async loadItems({page:n,itemsPerPage:a,sortBy:i}){this.loading=!0,this.serverItems=[];var o="";o+="?page="+n;try{i.length>0&&(o+="&sortCol="+i[0].key,o+="&sortByDesc="+i[0].order)}catch{}o+="&perpage="+a,this.search!=""&&(o+="&search="+this.search);const t=await g.getlist(o);this.serverItems=t.data;try{this.totalItems=t.meta.total}catch{this.totalItems=0}this.loading=!1},async deleteItem(n){await h.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(i=>{if(i.isConfirmed)return!0})&&(await g.delete({id:n}),h.fire("Deleted!","Your record has been deleted.","success"),this.loadItems({page:1,itemsPerPage:10}))},async downlaod(n){}},watch:{$route(){this.loadItems({page:1,itemsPerPage:10})},itemsPerPage(){this.loadItems({page:1,itemsPerPage:10})},search(){this.loadItems({page:1,itemsPerPage:10})}},async mounted(){this.loadItems({page:1,itemsPerPage:10})},computed:{}},C={class:"add-excel-btn"};function B(n,a,i,o,t,d){const u=l("v-icon"),f=l("v-breadcrumbs"),m=l("v-col"),c=l("v-btn"),v=l("v-text-field"),p=l("v-row"),b=l("v-data-table-server");return k(),I(p,null,{default:s(()=>[e(m,null,{default:s(()=>[e(f,{items:t.breadcrumbs},{prepend:s(()=>[e(u,{size:"small",icon:"mdi-home-city"})]),divider:s(()=>[e(u,null,{default:s(()=>[_("mdi-forward")]),_:1})]),_:1},8,["items"])]),_:1}),e(m,{sm:"6",lg:"3",md:"3"},{default:s(()=>[y("div",C,[e(c,{class:"add-user",link:"",to:{name:"auth.skills.add"}},{default:s(()=>[_("Add Skill")]),_:1},8,["to"])])]),_:1}),e(m,{cols:"12"},{default:s(()=>[e(p,null,{default:s(()=>[e(m,null,{default:s(()=>[e(v,{modelValue:t.search,"onUpdate:modelValue":a[0]||(a[0]=r=>t.search=r),label:"Search","single-line":"","hide-details":""},null,8,["modelValue"])]),_:1})]),_:1}),e(b,{hover:!0,class:"table-list","items-per-page":t.itemsPerPage,"onUpdate:itemsPerPage":a[1]||(a[1]=r=>t.itemsPerPage=r),headers:t.headers,"items-length":t.totalItems,items:t.serverItems,loading:t.loading,"item-value":"id","loading-text":"Loading","onUpdate:options":d.loadItems},{"item.actions":s(({item:r})=>[e(c,{variant:"text",density:"compact",class:"mr-2",link:"",to:{name:"auth.skills.edit",params:{id:r.id}},color:"info",size:"small",icon:"mdi-pencil-plus"},null,8,["to"]),e(c,{variant:"text",density:"compact",onClick:V=>d.deleteItem(r.id),color:"error",size:"small",icon:"mdi-delete-outline"},null,8,["onClick"])]),_:1},8,["items-per-page","headers","items-length","items","loading","onUpdate:options"])]),_:1})]),_:1})}const z=x(w,[["render",B]]);export{z as default};
