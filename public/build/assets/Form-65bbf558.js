import{d as h}from"./default-61698ed5.js";import{S as _}from"./sweetalert2.all-82b1f328.js";import{_ as b,r as o,e as v,w as a,o as w,a as t,b as c,d as x,t as k,g as V}from"./app-b785c0d4.js";const n=new h("skill"),S={data(){return{roles:[],breadcrumbs:[{title:"Dashboard",to:{name:"auth.panel"},disabled:!1,exact:!0},{title:"Skill",exact:!0,disabled:!1,to:{name:"auth.skills.listing"}}],form:{slug:"",name:"",id:0},loading:!1,errors:{slug:[],name:[]}}},methods:{async insertRecord(){this.resetErrors(),this.loading=!0;var e=new FormData;if(e.append("name",this.form.name),e.append("slug",this.form.slug),this.form.id>0){e.append("id",this.form.id);var s=await n.update(e,this.form.id)}else var s=await n.create(e);s.status?(_.fire("Inserted!","Your record has been inserted.","success"),this.$router.push({name:"auth.skills.listing"})):(s.data.name&&(this.errors.name=s.data.name),s.data.slug&&(this.errors.slug=s.data.slug)),this.loading=!1},resetErrors(){this.errors={name:[],slug:[]}}},watch:{"form.name":function(){var e=this.form.name;e=e.toLowerCase(),e=e.replace(/[^a-zA-Z0-9]+/g,"-"),this.form.slug=e}},async mounted(){if(this.$route.params.id){this.form.id=this.$route.params.id,this.breadcrumbs.push({title:"Edit",exact:!0,disabled:!0,to:{name:"auth.skills.add",params:{id:this.$route.params.id}}});var e=await n.get(this.$route.params.id);this.form={name:e.name?e.name:"",slug:e.slug?e.slug:"",id:this.$route.params.id}}else this.breadcrumbs.push({title:"Add",exact:!0,disabled:!0,to:{name:"auth.skills.add"}})},computed:{}};function y(e,s,C,D,r,f){const d=o("v-icon"),p=o("v-breadcrumbs"),i=o("v-col"),m=o("v-text-field"),g=o("v-btn"),u=o("v-row");return w(),v(u,null,{default:a(()=>[t(i,{cols:"12"},{default:a(()=>[t(p,{items:r.breadcrumbs},{prepend:a(()=>[t(d,{size:"small",icon:"mdi-home-city"})]),divider:a(()=>[t(d,null,{default:a(()=>[c("mdi-forward")]),_:1})]),_:1},8,["items"])]),_:1}),t(i,{cols:"12"},{default:a(()=>[x("form",{onSubmit:s[2]||(s[2]=V((...l)=>e.submit&&e.submit(...l),["prevent"]))},[t(u,null,{default:a(()=>[t(i,{cols:"6"},{default:a(()=>[t(m,{modelValue:r.form.name,"onUpdate:modelValue":s[0]||(s[0]=l=>r.form.name=l),counter:255,label:"First Name",required:"","error-messages":r.errors.name},null,8,["modelValue","error-messages"])]),_:1}),t(i,{cols:"6"},{default:a(()=>[t(m,{modelValue:r.form.slug,"onUpdate:modelValue":s[1]||(s[1]=l=>r.form.slug=l),counter:255,label:"Slug",required:"","error-messages":r.errors.slug},null,8,["modelValue","error-messages"])]),_:1}),t(i,{cols:"12"},{default:a(()=>[t(g,{onClick:f.insertRecord,disabled:r.loading,loading:r.loading,"loading-text":r.form.id>0?"Updating":"Inserting",class:"insert-record-btn"},{default:a(()=>[c(k(r.form.id>0?"Update":"Insert")+" Record",1)]),_:1},8,["onClick","disabled","loading","loading-text"])]),_:1})]),_:1})],32)]),_:1})]),_:1})}const E=b(S,[["render",y]]);export{E as default};
