import{d as _}from"./default-6e6fcbfa.js";import{_ as b,r as s,e as g,w as a,o as v,a as r,b as c,d as w,t as x,g as V}from"./app-7fc8b515.js";const n=new _("roles"),y={data(){return{breadcrumbs:[{title:"Dashboard",to:{name:"auth.panel"},disabled:!1,exact:!0},{title:"Roles",exact:!0,disabled:!1,to:{name:"auth.roles.listing"}}],form:{title:"",name:"",id:0},loading:!1,errors:{title:[],name:[]}}},methods:{async insertRecord(){this.resetErrors(),this.loading=!0;var e=new FormData;if(e.append("title",this.form.title),e.append("name",this.form.name),this.form.id>0){e.append("id",this.form.id);var t=await n.update(e,this.form.id)}else var t=await n.create(e);t.status?this.$router.push({name:"auth.roles.listing"}):(t.data.title&&(this.errors.title=t.data.title),t.data.name&&(this.errors.name=t.data.name)),this.loading=!1},resetErrors(){this.errors={title:[],name:[]}}},watch:{},async mounted(){if(this.$route.params.id){this.form.id=this.$route.params.id,this.breadcrumbs.push({title:"Edit",exact:!0,disabled:!0,to:{name:"auth.roles.add",params:{id:this.$route.params.id}}});var e=await n.get(this.$route.params.id);this.form={title:e.title?e.title:"",name:e.name?e.name:"",id:this.$route.params.id}}else this.breadcrumbs.push({title:"Add",exact:!0,disabled:!0,to:{name:"auth.roles.add"}})}};function k(e,t,C,D,o,f){const d=s("v-icon"),p=s("v-breadcrumbs"),i=s("v-col"),m=s("v-text-field"),h=s("v-btn"),u=s("v-row");return v(),g(u,null,{default:a(()=>[r(i,{cols:"12"},{default:a(()=>[r(p,{items:o.breadcrumbs},{prepend:a(()=>[r(d,{size:"small",icon:"mdi-home-city"})]),divider:a(()=>[r(d,null,{default:a(()=>[c("mdi-forward")]),_:1})]),_:1},8,["items"])]),_:1}),r(i,{cols:"12"},{default:a(()=>[w("form",{onSubmit:t[2]||(t[2]=V((...l)=>e.submit&&e.submit(...l),["prevent"]))},[r(u,null,{default:a(()=>[r(i,{cols:"6"},{default:a(()=>[r(m,{modelValue:o.form.title,"onUpdate:modelValue":t[0]||(t[0]=l=>o.form.title=l),counter:255,label:"Page Title",required:"","error-messages":o.errors.title},null,8,["modelValue","error-messages"])]),_:1}),r(i,{cols:"6"},{default:a(()=>[r(m,{modelValue:o.form.name,"onUpdate:modelValue":t[1]||(t[1]=l=>o.form.name=l),counter:255,label:"Name",required:"","error-messages":o.errors.name},null,8,["modelValue","error-messages"])]),_:1}),r(i,{cols:"12"},{default:a(()=>[r(h,{onClick:f.insertRecord,disabled:o.loading,loading:o.loading,"loading-text":o.form.id>0?"Updating":"Inserting",color:"success"},{default:a(()=>[c(x(o.form.id>0?"Update":"Insert")+" Record",1)]),_:1},8,["onClick","disabled","loading","loading-text"])]),_:1})]),_:1})],32)]),_:1})]),_:1})}const U=b(y,[["render",k]]);export{U as default};
