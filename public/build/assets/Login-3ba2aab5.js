import{_ as v,l as c,r as a,c as b,a as l,w as s,o as w,b as i,m as h,t as k,d as V}from"./app-87b9ece9.js";const x={name:"Login",components:{},mounted(){this.$nextTick(function(){})},data(){return{loader:null,loading:!1,btnloading:!1,snackbar:!1,loggedinemail:"",loggedinpassword:"",show3:!1,password:"Password",erorrs:{email:"",password:""},rules:{required:t=>!!t||"Required.",email:t=>/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)||"Invalid e-mail."}}},methods:{dologin:async function(){if(this.$refs.form.validate()){this.btnloading=!0;var t=await c.dologin(this.loggedinemail,this.loggedinpassword);if(this.btnloading=!1,t.data)if(t.status){this.$store.commit("setLoginStatus",!0),this.$store.commit("setAuthToken",t.data.token);var o=await c.me();this.$store.commit("setloggedInUser",o),this.$router.push({name:"auth.panel"})}else this.erorrs.email=t.data,this.snackbar=!0}}},watch:{}},y=V("h2",{class:"text-center"},"Welcome to Task Management Portal",-1);function C(t,o,U,q,e,g){const r=a("v-col"),d=a("v-row"),m=a("v-text-field"),u=a("v-btn"),p=a("v-form"),f=a("v-snackbar"),_=a("v-container");return w(),b("div",null,[l(_,{class:"grey lighten-5 loginscreen col-md-6"},{default:s(()=>[l(d,null,{default:s(()=>[l(r,{sm:"12",md:"12",lg:"12"},{default:s(()=>[y]),_:1})]),_:1}),l(p,{ref:"form",modelValue:e.loading,"onUpdate:modelValue":o[3]||(o[3]=n=>e.loading=n),"lazy-validation":""},{default:s(()=>[l(d,{class:"login-row"},{default:s(()=>[l(r,{sm:"12",md:"12",lg:"12"},{default:s(()=>[l(m,{modelValue:e.loggedinemail,"onUpdate:modelValue":o[0]||(o[0]=n=>e.loggedinemail=n),rules:[e.rules.required,e.rules.email],label:"Email",clearable:"","hide-details":""},null,8,["modelValue","rules"])]),_:1}),l(r,{sm:"12",md:"12",lg:"12"},{default:s(()=>[l(m,{modelValue:e.loggedinpassword,"onUpdate:modelValue":o[1]||(o[1]=n=>e.loggedinpassword=n),rules:[e.rules.required],label:"Password",clearable:"","append-icon":e.show3?"mdi-eye":"mdi-eye-off","onClick:append":o[2]||(o[2]=n=>e.show3=!e.show3),type:e.show3?"text":"password","hide-details":"",class:"mb-5"},null,8,["modelValue","rules","append-icon","type"])]),_:1})]),_:1}),l(u,{class:"col login-btn text-white",elevation:"1",onClick:g.dologin,large:"",raised:"",loading:e.btnloading,disabled:e.btnloading},{default:s(()=>[i("Login")]),_:1},8,["onClick","loading","disabled"])]),_:1},8,["modelValue"]),l(f,{modelValue:e.snackbar,"onUpdate:modelValue":o[5]||(o[5]=n=>e.snackbar=n)},{action:s(({attrs:n})=>[l(u,h({color:"pink",text:""},n,{onClick:o[4]||(o[4]=L=>e.snackbar=!1)}),{default:s(()=>[i(" Close ")]),_:2},1040)]),default:s(()=>[i(k(e.erorrs.email)+" ",1)]),_:1},8,["modelValue"])]),_:1})])}const T=v(x,[["render",C]]);export{T as default};
